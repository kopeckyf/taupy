<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Tutorial A: Plotting the SCCP" href="../tutorials/plotting-sccp.html" /><link rel="prev" title="Debate analysis" href="analysis.html" />

    <meta name="generator" content="sphinx-5.0.1, furo 2022.06.04.1"/>
        <title>Simulations - taupy</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --admonition-font-size: 92%;;
  --admonition-title-font-size: 92%;;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">taupy</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">taupy</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">User guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation &amp; quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic.html">Introduction to taupy and its basic ontology</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Debate analysis</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Simulations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/plotting-sccp.html">Tutorial A: Plotting the SCCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/agreement.html">Tutorial B: Tracking agreement in simulated debates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/polarisation.html">Tutorial C: Tracking polarisation in simulated debates</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="simulations">
<h1>Simulations<a class="headerlink" href="#simulations" title="Permalink to this heading">#</a></h1>
<p>There are properties of debates that can’t be understood from an individual debate
stage, but only become apparent when a debate’s evolution time is considered.
Debates may converge toward agreement, or they may diverge and even form <em>deep
disagreements</em>. They can also polarise or depolarise, and some debates may become
more or less diverse and more or less veracious.</p>
<section id="events">
<h2>Events<a class="headerlink" href="#events" title="Permalink to this heading">#</a></h2>
<p>A taupy <code class="xref py py-obj docutils literal notranslate"><span class="pre">Simulation</span></code> has two events: the (1) introduction of a new argument and
(2) reaction of the positions in the debate to this new debate stage. Both events
trigger at each turn of the simulation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A third kind of event, enlargement of the sentence pool, will be available
in a future taupy version.</p>
</div>
<ol class="arabic simple">
<li><p>For the introduction event, two random positions are selected. If there are none,
a random argument is inserted. If both <cite>source</cite> and <cite>target</cite> positions can be found,
an argument is introduced according to the introduction strategy of the source. If
no combinations of premises can be found that fit this stragegy, the simulation stops.</p></li>
<li><p>The update mechanism is then applied to <em>all</em> positions. Details on these mechanisms
can be found in the submodule <code class="xref py py-mod docutils literal notranslate"><span class="pre">taupy.simulation.update</span></code>.</p></li>
</ol>
</section>
<section id="setting-up-pools-of-positions-and-propositions">
<h2>Setting up pools of positions and propositions<a class="headerlink" href="#setting-up-pools-of-positions-and-propositions" title="Permalink to this heading">#</a></h2>
<p>Other than in static debates, taupy simulations usually don’t take their propositions
from the public namespace (this would populate it rather quickly!). Each <code class="xref py py-obj docutils literal notranslate"><span class="pre">Simulation</span></code>
has its own private sentence name space. A good way to generate it is to use
<cite>sympy</cite>’s <code class="code docutils literal notranslate"><span class="pre">&quot;p:n&quot;</span></code> syntax, where <code class="code docutils literal notranslate"><span class="pre">n</span></code> is the number of propositions
one needs:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># The sentence pool of a Simulation has to be pre-defined.</span>
<span class="c1"># You can do so with either variables in the global namespace,</span>
<span class="c1"># or with a new local namespace (recommended). The default creation is:</span>
<span class="n">sim1</span> <span class="o">=</span> <span class="n">Simulation</span><span class="p">(</span><span class="n">sentencepool</span><span class="o">=</span><span class="s2">&quot;p:10&quot;</span><span class="p">)</span>
<span class="c1"># Create p0, p1,... p9 in a new local namespace.</span>
<span class="c1"># Access them via:</span>
<span class="n">sim1</span><span class="o">.</span><span class="n">sentencepool</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">sim2</span><span class="o">.</span><span class="n">sentencepool</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">sim2</span><span class="o">.</span><span class="n">sentencepool</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span>
</pre></div>
</div>
<p>This would give us a debate without positions. Simulations without positions can
only behave un-directed. Introduced arguments can only be directed if there are
at least two positions, a <cite>source</cite> and a <cite>target</cite>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialise a Simulation with three empty positions:</span>
<span class="n">sim2</span> <span class="o">=</span> <span class="n">Simulation</span><span class="p">(</span><span class="n">positions</span><span class="o">=</span><span class="p">[{},</span> <span class="p">{},</span> <span class="p">{}])</span>
</pre></div>
</div>
</section>
<section id="inserting-arguments-manually">
<h2>Inserting arguments manually<a class="headerlink" href="#inserting-arguments-manually" title="Permalink to this heading">#</a></h2>
<p>Now that a simulation is set-up, we can introduce an argument into the debate.
We need the submodule <code class="xref py py-mod docutils literal notranslate"><span class="pre">taupy.simulation.strategies</span></code> to get the info that
taupy needs to create an argument based on a strategy.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">taupy.simulation.strategies</span> <span class="k">as</span> <span class="nn">strategies</span>
<span class="c1"># Introduce a random argument to the Simulation.</span>
<span class="c1"># The argument is checked for uniqueness of premises</span>
<span class="c1"># and joint satisfiability with existing arguments:</span>
<span class="n">introduce</span><span class="p">(</span><span class="n">sim1</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="n">strategies</span><span class="o">.</span><span class="n">random</span><span class="p">)</span>
</pre></div>
</div>
<p>You can then let all the positions respond to the newly introduced argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make the three positions respond to the latest introduction.</span>
<span class="n">response</span><span class="p">(</span><span class="n">sim1</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;closest_coherent&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">method</span></code> argument will certainly change once there are
more update strategies besides <cite>random</cite> and <cite>closest_coherent</cite>.</p>
</div>
</section>
<section id="running-experiments-that-insert-arguments-automatically">
<h2>Running experiments that insert arguments automatically<a class="headerlink" href="#running-experiments-that-insert-arguments-automatically" title="Permalink to this heading">#</a></h2>
<p>There isn’t much fun in entering every argument yourself: debate simulations can
take hundreds of steps before coming to an end. Also, for most research questions
you probably want to run more than one simulation to make sure you haven’t ended up
with an outlier. The <code class="xref py py-func docutils literal notranslate"><span class="pre">taupy.experiment()</span></code> function provides for all of these
needs.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># First, create 10 positions with strategy random</span>
<span class="n">positions</span> <span class="o">=</span> <span class="p">[</span><span class="n">Position</span><span class="p">(</span><span class="n">debate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">introduction_strategy</span><span class="o">=</span><span class="n">strategies</span><span class="o">.</span><span class="n">random</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>

<span class="c1"># Run 4 simulations in an experiment (multi-threaded!):</span>
<span class="n">my_experiments</span> <span class="o">=</span> <span class="n">experiment</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                            <span class="n">simulations</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;positions&quot;</span><span class="p">:</span> <span class="n">positions</span><span class="p">,</span>
                                         <span class="s2">&quot;sentencepool&quot;</span><span class="p">:</span> <span class="s2">&quot;p:10&quot;</span><span class="p">,</span>
                                         <span class="s2">&quot;argumentlength&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]},</span>
                            <span class="n">runs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;max_density&quot;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>
                                  <span class="s2">&quot;max_steps&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">}</span>
                            <span class="p">)</span>
</pre></div>
</div>
<p>This creates an object <code class="xref py py-obj docutils literal notranslate"><span class="pre">my_experiments</span></code> with four elements: <code class="xref py py-obj docutils literal notranslate"><span class="pre">my_experiments[0]</span></code>
contains the first simulation, the second is in <code class="xref py py-obj docutils literal notranslate"><span class="pre">my_experiments[1]</span></code>, etc.</p>
<p>The dictionary in the <cite>simulations</cite> argument contains the arguments for creation of the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">Simulation</span></code> object. So the above call to <code class="xref py py-func docutils literal notranslate"><span class="pre">taupy.experiment()</span></code> creates
simulation object <code class="xref py py-obj docutils literal notranslate"><span class="pre">s</span></code> that look like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">Simulation</span><span class="p">(</span><span class="n">positions</span><span class="o">=</span><span class="n">positions</span><span class="p">,</span> <span class="n">sentencepool</span><span class="o">=</span><span class="s2">&quot;p:10&quot;</span><span class="p">,</span> <span class="s2">&quot;argumentlength&quot;</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
<p>And the directives in the dictionary <cite>runs</cite> are arguments to the method <cite>Simulation.run()</cite>
which is called by the experiments. So the setting above are equivalent to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">max_density</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">max_steps</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<p>For each simulation <code class="xref py py-obj docutils literal notranslate"><span class="pre">s</span></code> of the four generated by the experiment.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>To learn more about the configuration options, have a look at the submodule
<code class="xref py py-mod docutils literal notranslate"><span class="pre">taupy.simulation</span></code> and the functions documented there. There are also two
Tutorials which show useful simulation experiments.</p>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../tutorials/plotting-sccp.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Tutorial A: Plotting the SCCP</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="analysis.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Debate analysis</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021, Felix Kopecky
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Simulations</a><ul>
<li><a class="reference internal" href="#events">Events</a></li>
<li><a class="reference internal" href="#setting-up-pools-of-positions-and-propositions">Setting up pools of positions and propositions</a></li>
<li><a class="reference internal" href="#inserting-arguments-manually">Inserting arguments manually</a></li>
<li><a class="reference internal" href="#running-experiments-that-insert-arguments-automatically">Running experiments that insert arguments automatically</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    </body>
</html>